<!DOCTYPE html>
<html>
    <head>
        {% block meta %}
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=Edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
            <meta name="mobile-web-app-capable" content="yes">
            <meta name="apple-mobile-web-app-capable" content="yes">
            <meta name="theme-color" content="#414141">
            <meta name="apple-mobile-web-app-status-bar-style" content="#414141">
        {% endblock %}
        <title>{% block title %}{% endblock %}</title>
        {% block style %}
            <link rel="stylesheet" type="text/css" href="{{static_path}}css/jquery.timepicker.css?v={{version}}" />
            <link rel="shortcut icon" href="{{static_path}}favicon.ico?v={{version}}" />
            <link rel="apple-touch-icon" href="{{static_path}}favicon.ico?v={{version}}" />
            <link rel="manifest" href="{{static_path}}../manifest.json?v={{version}}" />
        {% endblock %}
        {% block script %}
            <script type="text/javascript" src="{{static_path}}js/css-browser-selector.js?v={{version}}"></script>
            <script type="text/javascript" src="{{static_path}}js/jquery.min.js?v={{version}}"></script>
            <script type="text/javascript" src="{{static_path}}js/jquery.timepicker.min.js?v={{version}}"></script>
            <script type="text/javascript" src="{{static_path}}js/jquery.mousewheel.js?v={{version}}"></script>

            <script type="text/javascript">
                var staticPath = '{{static_path}}';
            </script>
        {% endblock %}
    </head>
    
    <body style="background-color:#212121">
        {% block body %}{% endblock %}

        <script>

        jQuery(document).ready(function($) {

            $('[data-toggle="popover"]').popover({
                container: $("#settings")
                // container: 'body'
            })


            var bsDefaults = {
                    offset: false,
                    overlay: true,
                    width: '40%',
                    minwidth: '370px'
                },
                bsMain = $('.bs-offset-main'),
                bsOverlay = $('.bs-canvas-overlay');

            $('[data-toggle="canvas"][aria-expanded="false"]').on('click', function() {
                var canvas = $(this).data('target'),
                    opts = $.extend({}, bsDefaults, $(canvas).data()),
                    prop = $(canvas).hasClass('bs-canvas-right') ? 'margin-right' : 'margin-left';

                if (opts.width === '100%')
                    opts.offset = false;
                
                $(canvas).css('width', opts.width);
                $(canvas).css('min-width', opts.minwidth);
                if (opts.offset && bsMain.length)
                    bsMain.css(prop, opts.width);

                $(canvas + ' .bs-canvas-close').attr('aria-expanded', "true");
                $('[data-toggle="canvas"][data-target="' + canvas + '"]').attr('aria-expanded', "true");
                if (opts.overlay && bsOverlay.length)
                    bsOverlay.addClass('show');
                return false;
            });

            $('.bs-canvas-close, .bs-canvas-overlay').on('click', function() {
                var canvas, aria;
                if ($(this).hasClass('bs-canvas-close')) {
                    canvas = $(this).closest('.bs-canvas');
                    aria = $(this).add($('[data-toggle="canvas"][data-target="#' + canvas.attr('id') + '"]'));
                    if (bsMain.length)
                        bsMain.css(($(canvas).hasClass('bs-canvas-right') ? 'margin-right' : 'margin-left'), '');
                } else {
                    canvas = $('.bs-canvas');
                    aria = $('.bs-canvas-close, [data-toggle="canvas"]');
                    if (bsMain.length)
                        bsMain.css({
                        'margin-left': '',
                        'margin-right': ''
                        });
                }
                canvas.css('width', '');
                canvas.css('min-width', '');
                aria.attr('aria-expanded', "false");
                if (bsOverlay.length)
                    bsOverlay.removeClass('show');
                return false;
            });
        });

            // $('.popover-dismiss').popover({
            //  trigger: 'focus'
            // })

        feather.replace()
        </script>

    </body>
</html>
